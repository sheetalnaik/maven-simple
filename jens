pipeline {
   agent any

       environment {
        NEXUS_VERSION = "nexus3"
        NEXUS_PROTOCOL = "http"
        NEXUS_URL = "localhost:8081"
        NEXUS_REPOSITORY = "newnexusrepo"
        NEXUS_CREDENTIAL_ID = "nexus credentails"
    }
    
        
        stage("Publish to Nexus Repository Manager") {
            steps {
                script {
                        nexusArtifactUploader(
      nexusVersion: 'nexus3',
      protocol: 'http',
      nexusUrl: 'localhost:8081',
       groupId: 'com.efsavage',
       version: 1.0,
      repository: 'newnexusrepo',
      credentialsId: 'nexus credentails',
      artifacts: [
        [artifactId: hello-world-war,
         classifier: '',
         file: 'hello-world-war-1.0.0.war',
         type: 'war']
    ]
 );
                    } 
                }
            }
        }
    }
